<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fraud Insights</title>
    <link rel="stylesheet" href="static/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            overflow: auto;
            margin: 0;
            padding: 20px;
            text-align: center;
            display: inline-block;
        }
        canvas {
            max-width: 800px;
            margin: auto;
        }
    </style>
</head>
<body>
    <h1>Fraud Insights</h1><br>

    <h2>COMPARISON BETWEEN FRAUDULENT AND NON-FRAUDULENT TRANSACTIONS</h2><br>
    <canvas id="barChart"></canvas><br>

    <h2>DISTRIBUTION OF TRANSACTION TYPES</h2><br>
    <canvas id="pieChart"></canvas><br>

    <h2>TRANSACTIONS THAT WERE MADE RECENTLY</h2>
    <table border="1" cellspacing="0" cellpadding="5" align="center">
        <tr>
            <th>SourceID</th>
            <th>DestinationID</th>
            <th>TransferMode</th>
            <th>Status</th>
        </tr>
        <tr><td>C1231006815</td><td>M1979787155</td><td>PAYMENT</td><td>NotFraud</td></tr>
        <tr><td>C1666544295</td><td>M2044282225</td><td>CASHIN</td><td>NotFraud</td></tr>
        <tr><td>C1305486145</td><td>C553264065</td><td>TRANSFER</td><td>Fraud</td></tr>
    </table><br>

    <button onclick="location.href='/main'">Back</button>

    <script>
        // Bar Chart Data (Fraud vs. Non-Fraud)
        const barCtx = document.getElementById('barChart').getContext('2d');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['Frauds', 'Non-Frauds'],
                datasets: [{
                    label: 'Counts',
                    data: [10000, 6500000], // Extracted data from image
                    backgroundColor: ['#D98880', '#A9DFBF'] // Soft red and green
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Pie Chart Data (Transaction Types)
        const pieCtx = document.getElementById('pieChart').getContext('2d');
        new Chart(pieCtx, {
            type: 'doughnut',
            data: {
                labels: ['CASH_OUT', 'PAYMENT', 'CASH_IN', 'TRANSFER', 'DEBIT'],
                datasets: [{
                    data: [35.2, 33.8, 22, 8.38, 0.651], // Extracted percentage data
                    backgroundColor: ['#5664D2', '#E74C3C', '#1ABC9C', '#9B59B6', '#F39C12']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right'
                    }
                }
            }
        });
    </script>
</body>
</html>
